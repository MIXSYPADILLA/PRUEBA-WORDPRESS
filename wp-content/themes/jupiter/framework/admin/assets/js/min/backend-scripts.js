function mk_upload_option(option_id){if(void 0!==wp.media){var _custom_media=!0,_orig_send_attachment=wp.media.editor.send.attachment,option_selector=option_id?"#"+option_id+"_button":".option-upload-button";jQuery(option_selector).click(function(e){var button=(wp.media.editor.send.attachment,jQuery(this)),id=button.attr("id").replace("_button","");return _custom_media=!0,wp.media.editor.send.attachment=function(props,attachment){if(!_custom_media)return _orig_send_attachment.apply(this,[props,attachment]);jQuery("#"+id).val(attachment.url),jQuery("#"+id+"-preview img").attr("src",attachment.url)},wp.media.editor.open(button),!1}),jQuery(".add_media").on("click",function(){_custom_media=!1})}}function mk_range_option(option_id){var range_wrapper=jQuery("#rangeInput-"+option_id),mk_min=parseFloat(range_wrapper.attr("data-min")),mk_max=parseFloat(range_wrapper.attr("data-max")),mk_step=parseFloat(range_wrapper.attr("data-step")),mk_value=parseFloat(range_wrapper.attr("data-value"));range_wrapper.slider({value:mk_value,min:mk_min,max:mk_max,step:mk_step,slide:function(event,ui){range_wrapper.siblings(".range-input-selector").val(ui.value)}})}function mk_toggle_option(option_id){var $this=jQuery("#toggle-switch-"+option_id),$input=$this.find("input");"true"==$input.val()?$this.addClass("mk-toggle-on"):$this.addClass("mk-toggle-off"),$this.click(function(){$this.hasClass("mk-toggle-on")?($this.removeClass("mk-toggle-on").addClass("mk-toggle-off"),$input.val("false").trigger("change")):($this.removeClass("mk-toggle-off").addClass("mk-toggle-on"),$input.val("true").trigger("change"))})}function mk_shortcode_fonts(){jQuery("#font_family").change(function(){jQuery("#font_family option:selected").each(function(){var type=jQuery(this).attr("data-type");jQuery("#font_type").val(type).trigger("change")})}).change()}function mk_range_input(){jQuery(".mk-range-input").each(function(){var range_input=jQuery(this).siblings(".range-input-selector"),mk_min=parseFloat(jQuery(this).attr("data-min")),mk_max=parseFloat(jQuery(this).attr("data-max")),mk_step=parseFloat(jQuery(this).attr("data-step")),mk_value=parseFloat(jQuery(this).attr("data-value"));jQuery(this).slider({value:mk_value,min:mk_min,max:mk_max,step:mk_step,slide:function(event,ui){range_input.val(ui.value).trigger("change")}})})}function mk_visual_selector(){jQuery(".mk-visual-selector").find("a").each(function(){var $this=jQuery(this),default_value=jQuery(this).siblings("input").val();$this.attr("rel")==default_value&&($this.addClass("current"),$this.append('<div class="selector-tick"></div>')),jQuery(this).click(function(){return $this.siblings("input").val(jQuery(this).attr("rel")).trigger("change"),$this.parent(".mk-visual-selector").find(".current").removeClass("current"),$this.parent(".mk-visual-selector").find(".selector-tick").remove(),$this.addClass("current"),$this.append('<div class="selector-tick"></div>'),!1})})}function mk_header_selector(){var header_style=jQuery("#theme_header_style").val(),header_align=jQuery("#theme_header_align").val(),header_toolbar=jQuery("#theme_toolbar_toggle").val();"4"==header_style?jQuery(".header-align-center").hide():jQuery(".header-align-center").show(),jQuery("#mk-header-switcher").addClass("style-"+header_style+"-align-"+header_align+" toolbar-"+header_toolbar),jQuery(".mk-header-styles-number").find("span").each(function(){var $this=jQuery(this);$this.attr("rel")==header_style&&$this.addClass("active"),$this.on("click",function(){var header_align=(jQuery("#theme_header_style").val(),jQuery("#theme_header_align").val()),header_toolbar=jQuery("#theme_toolbar_toggle").val();$this.siblings().removeClass("active").end().addClass("active"),jQuery("#mk-header-switcher").attr("class","").addClass("style-"+$this.attr("rel")+"-align-"+header_align+" toolbar-"+header_toolbar),jQuery("#theme_header_style").val($this.attr("rel")),"4"==$this.attr("rel")?jQuery(".header-align-center").hide():jQuery(".header-align-center").show()})}),jQuery(".mk-header-align").find("span").each(function(){var $this=jQuery(this);$this.attr("rel")==header_align&&$this.addClass("active"),$this.on("click",function(){var header_style=jQuery("#theme_header_style").val(),header_toolbar=(jQuery("#theme_header_align").val(),jQuery("#theme_toolbar_toggle").val());$this.siblings().removeClass("active").end().addClass("active"),jQuery("#mk-header-switcher").attr("class","").addClass("style-"+header_style+"-align-"+$this.attr("rel")+" toolbar-"+header_toolbar),jQuery("#theme_header_align").val($this.attr("rel"))})}),"true"==header_toolbar?jQuery(".header-toolbar-toggle-button").addClass("enabled"):jQuery(".header-toolbar-toggle-button").removeClass("enabled").addClass("disabled"),jQuery(".header-toolbar-toggle-button").on("click",function(){var $this=jQuery(this),header_style=jQuery("#theme_header_style").val(),header_align=jQuery("#theme_header_align").val();jQuery("#theme_toolbar_toggle").val();$this.removeClass("active").addClass("active"),$this.hasClass("enabled")?($this.removeClass("enabled").addClass("disabled"),toggle_value="false",jQuery("#theme_toolbar_toggle").val("false")):($this.removeClass("disabled").addClass("enabled"),toggle_value="true",jQuery("#theme_toolbar_toggle").val("true")),jQuery("#mk-header-switcher").attr("class","").addClass("style-"+header_style+"-align-"+header_align+" toolbar-"+toggle_value)})}function icon_filter_name(){jQuery(".page-composer-icon-filter").each(function(){jQuery(this).change(function(){var filter=jQuery(this).val(),list=jQuery(this).siblings(".mk-font-icons-wrapper");return filter?(jQuery(list).find("span:not(:Contains("+filter+"))").parent("a").hide(),jQuery(list).find("span:Contains("+filter+")").parent("a").show()):jQuery(list).find("a").show(),!1}).keyup(function(){jQuery(this).change()})})}function mk_color_picker(){var $=jQuery;Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var hex=parseInt(this._color,10).toString(16);if(this.error)return"";if(hex.length<6)for(var i=6-hex.length-1;i>=0;i--)hex="0"+hex;return"#"+hex},$(".color-picker").each(function(){var $alpha,$alpha_output,$control=$(this),value=$control.val().replace(/\s+/g,""),alpha_val=100,enableRGBA=$control.attr("data-rgba")||"true";value.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(alpha_val=100*parseFloat(value.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),$control.wpColorPicker({clear:function(event,ui){$alpha.val(100),$alpha_output.val("100%")}}),"true"===enableRGBA&&$('<div class="vc_alpha-container"><label>Alpha: <output class="rangevalue">'+alpha_val+'%</output></label><input type="range" min="1" max="100" value="'+alpha_val+'" name="alpha" class="vc_alpha-field"></div>').appendTo($control.parents(".wp-picker-container:first").addClass("vc_color-picker").find(".iris-picker")),$alpha=$control.parents(".wp-picker-container:first").find(".vc_alpha-field"),$alpha_output=$control.parents(".wp-picker-container:first").find(".vc_alpha-container output"),$alpha.bind("change keyup",function(){var alpha_val=parseFloat($alpha.val()),iris=$control.data("a8cIris"),color_picker=$control.data("wpWpColorPicker");$alpha_output.val($alpha.val()+"%"),iris._color._alpha=alpha_val/100,$control.val(iris._color.toString()),color_picker.toggler.css({backgroundColor:$control.val()})}).val(alpha_val).trigger("change")})}function show_message(n){console.log("Sys msg : ",n),n.hasOwnProperty("status")&&(null!=n.data?(jQuery("#"+n.data.element).show(),n.data.modal?setTimeout(function(){jQuery("#"+n.data.element).hide()},1500):n.data.reload?(jQuery(".mk-main-panes").addClass("hidden-view"),setTimeout(function(){location.reload()},2e3)):(jQuery("#"+n.data.element).hide(),window.progressCircle().status(n.status,n.message))):(jQuery("#mk-message-modal-txt").html(n.message),0==n.status&&jQuery("#mk-message-modal > img").attr("src",jQuery("#mk-message-modal > img").attr("src").replace("success-icon","warning-icon")),jQuery("#mk-message-modal").show()))}function mk_resize_background_selector(){function resize_body_section(){body_section_width=jQuery(".mk-general-bg-selector .outer-wrapper").width(),jQuery(".mk-general-bg-selector.boxed_layout .body-section").css("width",body_section_width)}resize_body_section(),jQuery(window).resize(function(){clearTimeout(void 0),setTimeout(resize_body_section,100)})}jQuery.expr[":"].Contains=function(a,i,m){return(a.textContent||a.innerText||"").toUpperCase().indexOf(m[3].toUpperCase())>=0},jQuery(document).ready(function(){mk_upload_option(),mk_color_picker(),mk_header_selector(),jQuery(".mk-toggle-button").each(function(){var $this=jQuery(this);"true"==$this.find("input").val()?$this.addClass("mk-toggle-on").trigger("change"):$this.addClass("mk-toggle-off").trigger("change"),$this.click(function(){var $this=jQuery(this);$this.hasClass("mk-toggle-on")?($this.removeClass("mk-toggle-on").addClass("mk-toggle-off"),$this.find("input").val("false").trigger("change")):($this.removeClass("mk-toggle-off").addClass("mk-toggle-on"),$this.find("input").val("true").trigger("change"))})}),mk_range_input(),jQuery(".mk-chosen").select2({placeholder:"Select Options"}),"google"==jQuery("#special_fonts_type_1").val()?jQuery("#google_font_subset_1_wrapper").show():jQuery("#google_font_subset_1_wrapper").hide(),jQuery("#special_fonts_list_1").change(function(){jQuery("#special_fonts_list_1 option:selected").each(function(){var type=jQuery(this).attr("data-type");jQuery("#special_fonts_type_1").val(type),"google"==type?jQuery("#google_font_subset_1_wrapper").show():jQuery("#google_font_subset_1_wrapper").hide()})}).change(),"google"==jQuery("#special_fonts_type_2").val()?jQuery("#google_font_subset_2_wrapper").show():jQuery("#google_font_subset_2_wrapper").hide(),jQuery("#special_fonts_list_2").change(function(){jQuery("#special_fonts_list_2 option:selected").each(function(){var type=jQuery(this).attr("data-type");jQuery("#special_fonts_type_2").val(type),"google"==type?jQuery("#google_font_subset_2_wrapper").show():jQuery("#google_font_subset_2_wrapper").hide()})}).change(),jQuery("#add_sidebar_item").click(function(e){e.preventDefault();var clone_item=jQuery(this).parents(".custom-sidebar-wrapper").siblings("#selected-sidebar").find(".default-sidebar-item").clone(!0),clone_val=jQuery(this).siblings("#add_sidebar").val();""!=clone_val&&(jQuery("#sidebars").val()?jQuery("#sidebars").val(jQuery("#sidebars").val()+","+jQuery("#add_sidebar").val()):jQuery("#sidebars").val(jQuery("#add_sidebar").val()),clone_item.removeClass("default-sidebar-item").addClass("sidebar-item"),clone_item.find(".sidebar-item-value").attr("value",clone_val),clone_item.find(".slider-item-text").html(clone_val),jQuery("#selected-sidebar").append(clone_item),jQuery(".sidebar-item").fadeIn(300),jQuery("#add_sidebar").val(""))}),jQuery(".sidebar-item").css("display","block"),jQuery(".delete-sidebar").click(function(e){e.preventDefault(),jQuery(this).parent("#sidebar-item").slideUp(300,function(){jQuery(this).remove(),jQuery("#sidebars").val(""),jQuery(".sidebar-item-value").each(function(){jQuery("#sidebars").val()?jQuery("#sidebars").val(jQuery("#sidebars").val()+","+jQuery(this).val()):jQuery("#sidebars").val(jQuery(this).val())})})}),jQuery("#add_header_social_item").click(function(e){e.preventDefault();var clone_item=jQuery("#mk-current-social").find(".default-social-item").clone(!0),clone_url_val=jQuery("#header_social_url").val(),clone_select_value=jQuery("#header_social_sites_select").val();""!==clone_url_val&&(jQuery("#header_social_networks_site").val()?jQuery("#header_social_networks_site").val(jQuery("#header_social_networks_site").val()+","+jQuery("#header_social_sites_select").val()):jQuery("#header_social_networks_site").val(jQuery("#header_social_sites_select").val()),jQuery("#header_social_networks_url").val()?jQuery("#header_social_networks_url").val(jQuery("#header_social_networks_url").val()+","+jQuery("#header_social_url").val()):jQuery("#header_social_networks_url").val(jQuery("#header_social_url").val()),clone_item.removeClass("default-social-item").addClass("mk-social-item"),clone_item.find(".mk-social-item-site").attr("value",clone_select_value),clone_item.find(".mk-social-item-url").attr("value",clone_url_val),clone_item.find(".social-item-url").html(clone_url_val),clone_item.find(".social-item-icon").html(clone_select_value),jQuery("#mk-current-social").append(clone_item),jQuery(".mk-social-item").fadeIn(300),jQuery("#header_social_url").val(""))}),jQuery(".mk-social-item").css("display","block"),jQuery(".delete-social-item").click(function(e){e.preventDefault(),jQuery(this).parent(".mk-social-item").slideUp(200,function(){jQuery(this).remove(),jQuery("#header_social_networks_url").val(""),jQuery("#header_social_networks_site").val(""),jQuery(".mk-social-item-site").each(function(){jQuery("#header_social_networks_site").val()?jQuery("#header_social_networks_site").val(jQuery("#header_social_networks_site").val()+","+jQuery(this).val()):jQuery("#header_social_networks_site").val(jQuery(this).val())}),jQuery(".mk-social-item-url").each(function(){jQuery("#header_social_networks_url").val()?jQuery("#header_social_networks_url").val(jQuery("#header_social_networks_url").val()+","+jQuery(this).val()):jQuery("#header_social_networks_url").val(jQuery(this).val())})})}),function(){jQuery(".superlink-wrap").each(function(){var field=jQuery(this).siblings("input:hidden"),selector=jQuery(this).siblings("select"),name=field.attr("name"),items=jQuery(this).children();selector.change(function(){items.hide(),jQuery("#"+name+"_"+jQuery(this).val()).show(),field.val("")}),items.change(function(){field.val(selector.val()+"||"+jQuery(this).val())})})}(),mk_visual_selector(),jQuery(".masterkey-options-page, .mk-main-pane, .mk-options-container").tabs(),jQuery(".masterkey-options-page, .mk-main-pane, .mk-options-container, .mk-sub-pane").removeClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs ui-widget ui-widget-content ui-corner-all"),jQuery(".mk-main-navigator, .mk-sub-navigator").removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),jQuery(".mk-main-navigator li, .mk-sub-navigator li").removeClass("ui-state-default ui-corner-top ui-corner-bottom"),jQuery(".mk-main-sidebar-navigator-ul").on("click","li",function(){jQuery(this).hasClass("menu")?(jQuery(".mk-main-sidebar-navigator-ul").children().filter(".sub-menu").hide(),jQuery(this).nextUntil(".menu").show(),jQuery(this).next(".sub-menu").addClass("active"),jQuery(this).hasClass("active")||(jQuery(".mk-main-sidebar-navigator-ul").children().filter(".menu").removeClass("active"),jQuery(this).addClass("active"))):jQuery(this).hasClass("sub-menu")&&(jQuery(".mk-main-sidebar-navigator-ul").children().filter(".menu, .sub-menu").removeClass("active"),jQuery(this).addClass("active"),jQuery("li."+jQuery(this).data("parent")).addClass("active"))}),jQuery(".mk-main-sidebar-navigator-ul .ui-state-active").nextUntil(".menu").show(),jQuery(".mk-main-sidebar-navigator-ul .ui-state-active").next(".sub-menu").addClass("active"),function(){var orientation=jQuery("#background_selector_orientation").val(),options=jQuery("#boxed_layout_shadow_size_wrapper, #boxed_layout_shadow_intensity_wrapper");"full_width_layout"===orientation?options.hide():options.show(),jQuery(".mk-general-bg-selector").addClass(jQuery("#background_selector_orientation").val()),jQuery("#background_selector_orientation_wrapper a, #background_selector_orientation_container a").click(function(){"full_width_layout"===jQuery(this).attr("rel")?(jQuery(".mk-general-bg-selector").removeClass("boxed_layout").addClass("full_width_layout"),options.hide()):(jQuery(".mk-general-bg-selector").removeClass("full_width_layout").addClass("boxed_layout"),body_section_width=jQuery(".mk-general-bg-selector .outer-wrapper").width(),jQuery(".mk-general-bg-selector.boxed_layout .body-section").css("width",body_section_width),options.show())})}(),function(){jQuery(".bg-repeat-option, .bg-attachment-option, .bg-position-option").each(function(){jQuery(this).find("a").on("click",function(event){event.preventDefault(),jQuery(this).siblings().removeClass("selected").end().addClass("selected")})})}(),function(){jQuery(".header-section, .page-section, .footer-section, .body-section, .banner-section").each(function(){jQuery(this).on("click",function(event){event.preventDefault(),this_panel=jQuery(this),this_panel_rel=jQuery(this).attr("rel"),jQuery("#mk-bg-edit-panel").fadeIn(200),color_id="#"+this_panel_rel+"_color",color_id_2="#"+this_panel_rel+"_color_2",gradient_id="#"+this_panel_rel+"_color_gradient",gradient_angle_id="#"+this_panel_rel+"_color_gradient_angle",gradient_style_id="#"+this_panel_rel+"_color_gradient_style",image_id="#"+this_panel_rel+"_image",size_id="#"+this_panel_rel+"_size",parallax_id="#"+this_panel_rel+"_parallax",position_id="#"+this_panel_rel+"_position",repeat_id="#"+this_panel_rel+"_repeat",attachment_id="#"+this_panel_rel+"_attachment",source_id="#"+this_panel_rel+"_source",color_value=jQuery(color_id).val(),color_2_value=jQuery(color_id_2).val(),gradient_value=jQuery(gradient_id).val(),gradient_angle_value=jQuery(gradient_angle_id).val(),gradient_style_value=jQuery(gradient_style_id).val(),image_value=jQuery(image_id).val(),size_value=jQuery(size_id).val(),parallax_value=jQuery(parallax_id).val(),position_value=jQuery(position_id).val(),repeat_value=jQuery(repeat_id).val(),attachment_value=jQuery(attachment_id).val(),source_value=jQuery(source_id).val(),jQuery("#bg_panel_color_style").attr("value",gradient_value),jQuery("#grandient_color_style").attr("value",gradient_style_value),jQuery("#grandient_color_angle").attr("value",gradient_angle_value),jQuery("#bg_panel_color_2").attr("value",color_value),jQuery("#bg_panel_color").attr("value",color_value),jQuery("#bg_panel_color").parent().siblings(".wp-color-result").css("background-color",color_value),jQuery("#bg_panel_color_2").parent().siblings(".wp-color-result").css("background-color",color_2_value),jQuery("#bg_panel_stretch").attr("value",size_value),"true"==size_value?jQuery("#bg_panel_stretch").parent().removeClass("mk-toggle-off").addClass("mk-toggle-on"):jQuery("#bg_panel_stretch").parent().removeClass("mk-toggle-on").addClass("mk-toggle-off"),jQuery("#bg_panel_parallax").attr("value",parallax_value),"true"==parallax_value?jQuery("#bg_panel_parallax").parent().removeClass("mk-toggle-off").addClass("mk-toggle-on"):jQuery("#bg_panel_parallax").parent().removeClass("mk-toggle-on").addClass("mk-toggle-off"),jQuery('#mk-bg-edit-panel a[rel="'+position_value+'"]').siblings().removeClass("selected").end().addClass("selected"),jQuery('#mk-bg-edit-panel a[rel="'+repeat_value+'"]').siblings().removeClass("selected").end().addClass("selected"),jQuery('#mk-bg-edit-panel a[rel="'+attachment_value+'"]').siblings().removeClass("selected").end().addClass("selected"),"custom"==source_value&&""!=image_value&&(jQuery("#bg_panel_upload").attr("value",image_value),jQuery(".custom-image-preview-block img").attr("src",jQuery("#bg_panel_upload").val())),jQuery("#mk-bg-edit-panel").attr("rel",jQuery(this).attr("rel")),jQuery("#mk-bg-edit-panel").find(".mk-edit-panel-heading").text(jQuery(this).attr("rel")),jQuery(".bg-background-type-tabs").find('a[rel="'+source_value+'"]').parent().siblings().removeClass("current").end().addClass("current"),jQuery("#mk-bg-edit-panel").find(".bg-background-type-panes").children(".bg-background-type-pane").hide(),"no-image"==source_value?jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-no-image").show():"custom"==source_value&&jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-edit-panel-upload").show(),"gradient"==gradient_value?jQuery(".panel-gradient-element").removeClass("is-hidden"):jQuery(".panel-gradient-element").addClass("is-hidden"),"linear"==gradient_style_value&&"gradient"==gradient_value?jQuery(".panel-linear-gradient-el").removeClass("is-hidden"):jQuery(".panel-linear-gradient-el").addClass("is-hidden"),jQuery("#mk-bg-edit-panel").find(".bg-background-type-tabs a").on("click",function(event){event.preventDefault(),jQuery("#mk-bg-edit-panel").find(".bg-background-type-panes").children(".bg-background-type-pane").hide(),jQuery(this).parent().siblings().removeClass("current").end().addClass("current"),"no-image"==jQuery(this).attr("rel")?jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-no-image").show():"custom"==jQuery(this).attr("rel")&&jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-edit-panel-upload").show()})})}),jQuery("#bg_panel_color_style").change(function(){"gradient"==jQuery(this).val()?jQuery(".panel-gradient-element").removeClass("is-hidden"):jQuery(".panel-gradient-element").addClass("is-hidden")}),jQuery("#grandient_color_style").change(function(){"linear"==jQuery(this).val()?jQuery(".panel-linear-gradient-el").removeClass("is-hidden"):jQuery(".panel-linear-gradient-el").addClass("is-hidden")})}(),jQuery("#mk_cancel_bg_selector, .mk-bg-edit-panel-heading-cancel").on("click",function(event){event.preventDefault(),jQuery("#mk-bg-edit-panel").fadeOut(200)}),jQuery(document).keyup(function(e){27==e.keyCode&&jQuery("#mk_cancel_bg_selector, .mk-bg-edit-panel-heading-cancel").click()}),jQuery(document).keyup(function(e){13==e.keyCode&&jQuery("#mk_apply_bg_selector").click()}),function(){jQuery("#mk_apply_bg_selector").on("click",function(event){if(event.preventDefault(),panel=jQuery("#mk-bg-edit-panel"),panel_source=panel.attr("rel"),section_preview_class="."+panel_source+"-section",color=panel.find("#bg_panel_color").val(),color_2=panel.find("#bg_panel_color_2").val(),color_gradient=panel.find("#bg_panel_color_style").val(),color_gradient_style=panel.find("#grandient_color_style").val(),color_gradient_angle=panel.find("#grandient_color_angle").val(),bg_size=panel.find("#bg_panel_stretch").val(),bg_parallax=panel.find("#bg_panel_parallax").val(),position=jQuery(".bg-position-option").find(".selected").attr("rel"),repeat=jQuery(".bg-repeat-option").find(".selected").attr("rel"),attachment=jQuery(".bg-attachment-option").find(".selected").attr("rel"),image_source=jQuery(".bg-background-type-tabs").find(".current").children("a").attr("rel"),"custom"==image_source?image=jQuery("#bg_panel_upload").val():"no-image"==image_source&&(image=""),color_id="#"+panel_source+"_color",color_2_id="#"+panel_source+"_color_2",color_gradient_id="#"+panel_source+"_color_gradient",color_grandient_style_id="#"+panel_source+"_color_gradient_style",color_grandient_angle_id="#"+panel_source+"_color_gradient_angle",image_id="#"+panel_source+"_image",size_id="#"+panel_source+"_size",parallax_id="#"+panel_source+"_parallax",position_id="#"+panel_source+"_position",repeat_id="#"+panel_source+"_repeat",attachment_id="#"+panel_source+"_attachment",source_id="#"+panel_source+"_source",jQuery(color_id).attr("value",color),jQuery(color_2_id).attr("value",color_2),jQuery(color_gradient_id).attr("value",color_gradient),jQuery(color_grandient_style_id).attr("value",color_gradient_style),jQuery(color_grandient_angle_id).attr("value",color_gradient_angle),jQuery(image_id).attr("value",image),jQuery(size_id).attr("value",bg_size),jQuery(parallax_id).attr("value",bg_parallax),jQuery(position_id).attr("value",position),jQuery(repeat_id).attr("value",repeat),jQuery(attachment_id).attr("value",attachment),jQuery(source_id).attr("value",image_source),"true"==bg_size?stretch_option="cover":stretch_option="contain",""!=image&&jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-image":"url("+image+")","background-size":stretch_option}),"no-image"==image_source&&jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-image":"none"}),"single"==color_gradient)jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-color":color,"background-position":position,"background-repeat":repeat,"background-attachment":attachment});else{if("linear"==color_gradient_style){if("vertical"==color_gradient_angle)var gradient_angle_1="top,",gradient_angle_2="to bottom,";else if("horizontal"==color_gradient_angle)var gradient_angle_1="left,",gradient_angle_2="to right,";else if("diagonal_left_bottom"==color_gradient_angle)var gradient_angle_1="top left,",gradient_angle_2="to bottom right,";else if("diagonal_left_top"==color_gradient_angle)var gradient_angle_1="bottom left,",gradient_angle_2="to top right,"}else if("radial"==color_gradient_style){var gradient_angle_1="";gradient_angle_2=""}var webkit_gradient="-webkit-"+color_gradient_style+"-gradient("+gradient_angle_1+color+" 0%, "+color_2+" 100%)",native_gradient=color_gradient_style+"-gradient("+gradient_angle_2+color+" 0%, "+color_2+" 100%)";jQuery(section_preview_class).find(".mk-bg-preview-layer").css({background:webkit_gradient,background:native_gradient})}panel.fadeOut(200),panel.find("#bg_panel_color").val(""),jQuery(".bg-position-option").find(".selected").removeClass("selected"),jQuery(".bg-repeat-option").find(".selected").removeClass("selected"),jQuery(".bg-attachment-option").find(".selected").removeClass("selected"),jQuery("#bg_panel_upload").val(""),jQuery(".custom-image-preview-block img").attr("src","")})}(),function(){jQuery(".page-section, .body-section, .header-section, .footer-section, .banner-section").each(function(){if(this_panel=jQuery(this),this_panel_rel=this_panel.attr("rel"),color_id="#"+this_panel_rel+"_color",color_2_id="#"+this_panel_rel+"_color_2",color_gradient_id="#"+this_panel_rel+"_color_gradient",color_grandient_style_id="#"+this_panel_rel+"_color_gradient_style",color_grandient_angle_id="#"+this_panel_rel+"_color_gradient_angle",image_id="#"+this_panel_rel+"_image",position_id="#"+this_panel_rel+"_position",repeat_id="#"+this_panel_rel+"_repeat",attachment_id="#"+this_panel_rel+"_attachment",color=jQuery(color_id).val(),color_2=jQuery(color_2_id).val(),color_gradient=jQuery(color_gradient_id).val(),color_gradient_style=jQuery(color_grandient_style_id).val(),color_gradient_angle=jQuery(color_grandient_angle_id).val(),image=jQuery(image_id).val(),position=jQuery(position_id).val(),repeat=jQuery(repeat_id).val(),attachment=jQuery(attachment_id).val(),size_id="#"+this_panel_rel+"_size",size_value=jQuery(size_id).val(),"true"==size_value?stretch_option="cover":stretch_option="contain",""!=image&&jQuery(this_panel).find(".mk-bg-preview-layer").css({"background-image":"url("+image+")","background-size":stretch_option}),"single"==color_gradient)jQuery(this_panel).find(".mk-bg-preview-layer").css({"background-color":color,"background-position":position,"background-repeat":repeat,"background-attachment":attachment});else{if("linear"==color_gradient_style){if("vertical"==color_gradient_angle)var gradient_angle_1="top,",gradient_angle_2="to bottom,";else if("horizontal"==color_gradient_angle)var gradient_angle_1="left,",gradient_angle_2="to right,";else if("diagonal_left_bottom"==color_gradient_angle)var gradient_angle_1="top left,",gradient_angle_2="to bottom right,";else if("diagonal_left_top"==color_gradient_angle)var gradient_angle_1="bottom left,",gradient_angle_2="to top right,"}else if("radial"==color_gradient_style){var gradient_angle_1="";gradient_angle_2=""}var webkit_gradient="-webkit-"+color_gradient_style+"-gradient("+gradient_angle_1+color+" 0%, "+color_2+" 100%)",native_gradient=color_gradient_style+"-gradient("+gradient_angle_2+color+" 0%, "+color_2+" 100%)";jQuery(this_panel).find(".mk-bg-preview-layer").css({background:webkit_gradient,background:native_gradient})}})}()}),jQuery(document).ready(function(){var form=jQuery(".mk-options-container form");form.find(".mk-main-panes").removeClass("hidden-view"),jQuery("button",form).bind("click keypress",function(){form.data("callerid",this.name)}),jQuery("form#masterkey_settings").submit(function(){function newValues(){return jQuery("#masterkey_settings input, #masterkey_settings select, #masterkey_settings textarea[name!=theme_export_options]").serialize()}var callerId=jQuery(this).data("callerid");window.progressCircle().play(),jQuery(":hidden").change(newValues),jQuery("select").change(newValues);var serializedReturn=newValues();return jQuery("#mk-saving-settings").show(),data=serializedReturn+"&button_clicked="+callerId,jQuery.post(ajaxurl,data,function(response){show_message(response)}),!1}),jQuery("#mk_history_modal").click(function(event){event.preventDefault(),jQuery.post(ajaxurl,{action:"mk_list_theme_option_revision"}).done(function(response){if(!0===response.status){var rev_item_list="";return jQuery.each(response.data,function(key,val){rev_item_list+='<a href="#" data-name="'+val+'" class="mk_revision_item">Revision Number : <strong>'+(key+1)+"</strong> @ <strong>"+val+"</strong></a><br>"}),jQuery("#mk-list-of-theme-option-revisions").html(rev_item_list),jQuery("#mk-list-of-revisions").show(),jQuery(".mk-main-panes").addClass("hidden-view"),!1}}).fail(function(data){console.log("Failed msg : ",data)})}),jQuery(document).on("click",".mk_revision_item",function(event){jQuery("#mk-list-of-revisions").hide(),jQuery(".mk-main-panes").removeClass("hidden-view"),window.progressCircle().play(),jQuery.post(ajaxurl,{action:"mk_restore_theme_option_revision",revision_name:jQuery(this).data("name")}).done(function(response){show_message(response),1==response.status&&location.reload()}).fail(function(data){console.log("Failed msg : ",data)})}),jQuery("#mk_reset_confirm").click(function(){return jQuery("#mk-are-u-sure").show(),jQuery(".mk-main-panes").addClass("hidden-view"),!1}),jQuery("#mk_reset_confirm").click(function(){return jQuery("#mk-are-u-sure").show(),jQuery(".mk-main-panes").addClass("hidden-view"),!1}),jQuery(".popup-toggle-close").click(function(){return jQuery(this).parent(".mk-message-box").hide(),jQuery(".mk-main-panes").removeClass("hidden-view"),!1}),jQuery("#mk_reset_ok").click(function(){return jQuery("#mk-are-u-sure").hide(),jQuery(".mk-main-panes").addClass("hidden-view"),jQuery("#reset_theme_options").trigger("click"),!1}),jQuery("#masterkey_settings input").keypress(function(event){13==event.which&&event.preventDefault()})}),mk_resize_background_selector(),jQuery(function($){$("#_menu_location").on("change",function(){$(this).closest(".mk-single-option").find(".option-desc-warning").remove(),$(this).val().length>0&&theme_backend_localized_data.loggedin_menu.length>0&&$(this).closest(".mk-single-option").find(".option-desc").append('<span class="option-desc-warning">'+theme_backend_localized_data.meta_main_nav_loc_warning_msg+"</span>")}),$("#_menu_location").trigger("change")}),jQuery(document).ready(function($){function mk_force_focus_theme_options(){if(!0!==has_focus){current_window.focus(function(e){e.stopPropagation()}).trigger("focus");null}}function mk_get_theme_options(get_callback,first_call){mk_request_theme_options("mk_current_theme_options",function(get_status,get_options){if(get_status&&get_options){var time_end=first_call?0:2e3;setTimeout(function(){previous_options=null,init_status=get_status,previous_options=get_options},time_end),get_callback&&mk_sync_theme_options(),time_end=null}})}function mk_sync_theme_options(){init_status&&previous_options?(check_status=!0,mk_request_theme_options("mk_compare_theme_options",function(sync_status,changed){if(sync_status&&changed)if(changed.hasOwnProperty("fields")&&changed.fields){form_options.find(".mk-main-panes").addClass("hidden-view"),previous_options=null;for(var key in changed.fields)changed.fields.hasOwnProperty(key)&&changed.fields[key]&&mk_replace_theme_options(key,changed.fields[key]);previous_options=changed.options,setTimeout(function(){form_options.find(".mk-main-panes").removeClass("hidden-view")},2e3)}else changed.hasOwnProperty("reload")&&changed.reload&&(previous_options=init_status=check_status=form_options=null,window.location.reload(!0));sync_status=changed=check_status=null})):mk_get_theme_options(!0,!1)}function mk_request_theme_options(check_action,callback){
var check_options=JSON.stringify(previous_options);jQuery.ajax({type:"POST",url:ajaxurl,data:{action:check_action,options:check_options},dataType:"json",timeout:2e3,success:function(response){response.hasOwnProperty("status")&&response.hasOwnProperty("data")?callback(response.status,response.data):callback(!1,"Undefined data.")},error:function(XMLHttpRequest,textStatus,errorThrown){callback(!1,XMLHttpRequest.responseText)}}),check_options=null}function mk_replace_theme_options(key,data){if(data.value||data.type){var specific,target=jQuery("#"+key),wrapper=jQuery("#"+key+"_wrapper");if(target.val(data.value).trigger("change"),"range"==data.type)wrapper.find(".mk-range-input").slider("value",data.value);else if("toggle"==data.type){var toggle_button=wrapper.find(".mk-toggle-button");"false"==data.value?toggle_button.removeClass("mk-toggle-on").addClass("mk-toggle-off"):"true"==data.value&&toggle_button.removeClass("mk-toggle-off").addClass("mk-toggle-on"),toggle_button=null}else"upload"==data.type?wrapper.find("#"+key+"-preview img").attr("src",data.value):"radio"==data.type?wrapper.find("#"+key+"-radio-"+data.value).prop("checked",!0):"css_class_selector"==data.type||"color"==data.type||"multiselect"==data.type||"font_family"==data.type?(target.change(function(e){e.stopPropagation()}),target.trigger("change")):"visual_selector"==data.type&&(wrapper.find('[rel="'+data.value+'"]').click(function(e){e.stopPropagation()}),wrapper.find('[rel="'+data.value+'"]').trigger("click"));if("theme_header_align"==key)specific=jQuery(".mk-header-align .header-align-"+data.value),specific.click(function(e){e.stopPropagation()}),specific.trigger("click");else if("theme_header_style"==key)specific=jQuery('.mk-header-styles-number [rel="'+data.value+'"]'),specific.click(function(e){e.stopPropagation()}),specific.trigger("click");else if("theme_toolbar_toggle"==key){var toggle_button=jQuery(".mk-header-toolbar-toggle .header-toolbar-toggle-button");"true"==data.value?toggle_button.removeClass("disabled").addClass("enabled").closest("#mk-header-switcher").removeClass("toolbar-false").addClass("toolbar-true"):"false"==data.value&&toggle_button.removeClass("enabled").addClass("disabled").closest("#mk-header-switcher").removeClass("toolbar-true").addClass("toolbar-false"),toggle_button=null}else"header_social_location"!=key&&"single_blog_style"!=key||(target.change(function(e){e.stopPropagation()}),target.trigger("change"));target=wrapper=key=data=specific=null}}function mk_refresh_theme_options_lock(){$.ajax({type:"POST",url:ajaxurl,data:{action:"mk_lock_theme_options",refresh:!0,security:theme_backend_localized_data.security},dataType:"json",timeout:2e3,success:function(response){if(!response.hasOwnProperty("status")||!response.hasOwnProperty("data"))return void console.log("Undefined data.")},error:function(XMLHttpRequest,textStatus,errorThrown){console.log(XMLHttpRequest.responseText)}})}var form_options,current_window,has_focus,previous_options,init_status,check_status;form_options=jQuery("#masterkey_settings"),form_options.length>0&&(current_window=jQuery(window),function(){$.ajax({type:"GET",url:ajaxurl,data:{action:"mk_lock_theme_options",security:theme_backend_localized_data.security},dataType:"json",timeout:2e3,success:function(response){if(!response.hasOwnProperty("status")||!response.hasOwnProperty("data"))return void console.log("Undefined data.");!0===response.status&&$(window).trigger("mk_theme_options:locked",[response.data]),!1===response.status&&$(window).trigger("mk_theme_options:unlocked",[response.data])},error:function(XMLHttpRequest,textStatus,errorThrown){console.log(XMLHttpRequest.responseText)}})}(),mk_get_theme_options(!1,!0),current_window.on("focus",function(){return!0!==has_focus&&(has_focus=!0,mk_sync_theme_options()),!1}),current_window.on("blur",function(){return has_focus=null,!1}),navigator.userAgent.indexOf("Edge")>-1&&(form_options.on("click","li, a, img, span, select",function(){mk_force_focus_theme_options()}),form_options.on("focus","input, textarea",function(){mk_force_focus_theme_options()})),form_options.on("submit",function(){init_status=check_status=null,mk_get_theme_options(!1,!1)}),current_window.on("mk_theme_options:locked",function(event,data){swal({title:data.title,text:data.text,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:data.button_text,html:!0,closeOnConfirm:!1},function(){location.reload()})}),current_window.on("mk_theme_options:unlocked",function(event,data){setInterval(mk_refresh_theme_options_lock,1e3*(data.expiration-1))}))});